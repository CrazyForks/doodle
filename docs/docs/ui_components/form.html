<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Forms | Doodle</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://nacular.github.io/doodle/img/doodle.png"><meta data-react-helmet="true" name="twitter:image" content="https://nacular.github.io/doodle/img/doodle.png"><meta data-react-helmet="true" property="og:url" content="https://nacular.github.io/doodle/docs/ui_components/form"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="og:image:width" content="380"><meta data-react-helmet="true" name="og:image:height" content="78"><meta data-react-helmet="true" property="og:title" content="Forms | Doodle"><meta data-react-helmet="true" name="description" content="Doodle forms make data collection simple, while still preserving flexibility to build just the right experience. They hide a lot of the"><meta data-react-helmet="true" property="og:description" content="Doodle forms make data collection simple, while still preserving flexibility to build just the right experience. They hide a lot of the"><link data-react-helmet="true" rel="shortcut icon" href="/doodle/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://nacular.github.io/doodle/docs/ui_components/form"><link data-react-helmet="true" rel="alternate" href="https://nacular.github.io/doodle/docs/ui_components/form" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nacular.github.io/doodle/docs/ui_components/form" hreflang="x-default"><link rel="stylesheet" href="/doodle/assets/css/styles.1f45c9a6.css">
<link rel="preload" href="/doodle/assets/js/runtime~main.3a6fae2e.js" as="script">
<link rel="preload" href="/doodle/assets/js/main.b32f44b6.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doodle/"><div class="navbar__logo"><img src="/doodle/img/doodle.svg" alt="Doodle Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/doodle/img/doodle.svg" alt="Doodle Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/doodle/docs/introduction">Guide</a><a href="https://nacular.github.io/doodle-tutorials" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nacular/doodle" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://kotlinlang.slack.com/messages/doodle" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Slack channel"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/doodle/"><img src="/doodle/img/doodle.svg" alt="Doodle Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/doodle/img/doodle.svg" alt="Doodle Logo" class="themedImage_TMUO themedImage--dark_uzRr"></a><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/introduction">Hello Doodle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/applications">Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/views">Views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/positioning">Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/display">The Display</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Rendering</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pointer Input</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/keyboard">Keyboard Input</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/dragdrop">Drag &amp; Drop</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">UI Components</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doodle/docs/ui_components/overview">UI Components Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doodle/docs/ui_components/form">Forms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doodle/docs/ui_components/form_controls">Form Controls</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/themes">Themes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/accessibility">Accessibility</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Forms</h1></header><p>Doodle forms make data collection simple, while still preserving flexibility to build just the right experience. They hide a lot of the
complexity associated with mapping visual components to fields, state management, and validation. The result is an intuitive
metaphor modeled around the idea of a constructor.</p><p>Doodle also has a set of helpful forms controls that cover a reasonable range of data-types. These make its easy to create forms without
much hassle. But there are bound to be cases where more customization is needed. This is why Doodle forms are also extensible, allowing
you to fully customize the data they bind to and how each fields is visualized.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Demo</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Usage</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="doodle_-SGP"><div style="position:relative;height:600px"></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.buttons.PushButton</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.Form</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.LabeledConfig</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.TextFieldConfig</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.form</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.labeled</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.map</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.radioList</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.textField</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.verticalLayout</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// ... other imports</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fun &lt;T&gt; LabeledConfig.textFieldConfig(placeHolder: String = &quot;&quot;, errorText: StyledText? = null): TextFieldConfig&lt;T&gt;.() -&gt; Unit = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val initialHelperText  = help.styledText</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    help.font              = smallFont</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    textField.placeHolder  = placeHolder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    onInvalid              = { if (!textField.hasFocus) help.styledText = errorText ?: it.message?.let { Red(it) } ?: help.styledText }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    onValid                = { help.styledText = initialHelperText                                                                    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">val submit = PushButton(&quot;Submit&quot;).apply {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    enabled = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    size    = Size(100, 32)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">val twoDigitNumber = Regex(&quot;^1[0-5]\\d|^[1-9]\\d|^[1-9]&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">enum class Gender { Male, Female }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">val form = Form { this (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    + labeled(&quot;Name&quot;, help = &quot;3+ letters&quot;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        textField(Regex(&quot;.{3,}&quot;), config = textFieldConfig(&quot;Enter your name&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    + labeled(&quot;Age&quot;, help = &quot;1 or 2 digit number&quot;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        textField(twoDigitNumber, ToStringIntEncoder, config = textFieldConfig())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Binding an initial value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Female to labeled(&quot;Gender&quot;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        radioList(Male, Female) { spacing = 12.0 }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Forms can be nested</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    + form&lt;Pair&lt;String, Int&gt;&gt; { this (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        + labeled(&quot;Text [Sub-form]&quot;, help = &quot;Can be blank&quot;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            textField(Regex(&quot;.*&quot;), config = textFieldConfig())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        + labeled(&quot;Number [Sub-form]&quot;, help = &quot;1 to 10&quot;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            textField(twoDigitNumber, ToStringIntEncoder, validator = { it &lt;= 10 }, config = textFieldConfig())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ) { first, second -&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        first to second</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    onInvalid = { submit.enabled = false },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">) { name, age, gender, pair -&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    submit.enabled = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    println(&quot;[Form valid] Name: $name, Age: $age, Gender: $gender, Sub-form: $pair&quot;) // &lt;---- check console for output</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}}.apply {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // configure the Form view itself</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    size      = Size(300, 100)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    focusable = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    layout    = verticalLayout(this, spacing = 12.0, itemHeight = 32.0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="like-constructors">Like Constructors<a aria-hidden="true" class="hash-link" href="#like-constructors" title="Direct link to heading">â€‹</a></h2><p>Forms are very similar to constructors in that they have typed parameter lists (fields), and can only &quot;create&quot; instances when all their
inputs are valid. Like any constructor, a Form can have optional fields, default values, and arbitrary types for its fields.</p><p>While Forms behave like constructors in most ways, they do not actually create instances (only <a href="/doodle/docs/ui_components/form#forms-as-fields">sub-forms</a> do). This means they are not typed. Instead, they take
fields and output a corresponding lists of strongly-typed data when all their fields are valid. This notification is intentionally general
to allow forms to be used in a wide range of used cases.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="creation">Creation<a aria-hidden="true" class="hash-link" href="#creation" title="Direct link to heading">â€‹</a></h2><p>Forms are created using the <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L244" target="_blank" rel="noopener noreferrer"><code>Form</code></a> dsl function. This function ensures strong typing for fields and the form&#x27;s &quot;output&quot;.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The Form returned from the builder does not expose anything about the data it produces. So all consumption logic goes in the
builder block.</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">val form = Form { this(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    field1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    field2,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    onInvalid = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // called whenever any fields is updated with invalid data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }) { field1, field2, /*...*/ -&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // called each time all fields are updated with valid data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="fields">Fields<a aria-hidden="true" class="hash-link" href="#fields" title="Direct link to heading">â€‹</a></h2><p>Each field defined in the <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L244" target="_blank" rel="noopener noreferrer"><code>Form</code></a>
will be bounded to a single <a href="https://github.com/nacular/doodle/blob/master/Core/src/commonMain/kotlin/io/nacular/doodle/core/View.kt#L63" target="_blank" rel="noopener noreferrer"><code>View</code></a>.
These views are defined during field binding using a <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L18" target="_blank" rel="noopener noreferrer"><code>FieldVisualizer</code></a>.
A visualizer is responsible for taking a <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L99" target="_blank" rel="noopener noreferrer"><code>Field</code></a>
and its initial state and returning a View. The visualizer then acts as the bridge between the field&#x27;s state and the View, mapping changes made
in the View to the field (this includes validating that input).</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="field-state">Field State<a aria-hidden="true" class="hash-link" href="#field-state" title="Direct link to heading">â€‹</a></h3><p>Fields store their data as <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L62" target="_blank" rel="noopener noreferrer"><code>FieldState</code></a>.
This is a strongly-typed value that can be <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L83" target="_blank" rel="noopener noreferrer"><code>Valid</code></a>
or <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L67" target="_blank" rel="noopener noreferrer"><code>Invalid</code></a>. Valid
state contains a value, while invalid state does not. A Form with any invalid fields is invalid itself, and will indicate this by calling
<a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L247" target="_blank" rel="noopener noreferrer"><code>onInvalid</code></a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="creating-fields">Creating Fields<a aria-hidden="true" class="hash-link" href="#creating-fields" title="Direct link to heading">â€‹</a></h3><p>Fields are created implicitly when FieldVisualizers are bound to a Form. These visualizers can be created using the <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/Form.kt#L42" target="_blank" rel="noopener noreferrer"><code>field</code></a>
dsl, by implementing the interface, or by one of the existing form controls.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">DSL</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Via Interface</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">field&lt;T&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    initial // initial state of the field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    state   // mutable state of the field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    view {} // view to display for the field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.FieldInfo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.FieldVisualizer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class MyVisualizer&lt;T&gt;: FieldVisualizer&lt;T&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    override fun invoke(fieldInfo: FieldInfo&lt;T&gt;): View {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fieldInfo.initial // initial state of the field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fieldInfo.state   // mutable state of the field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return view {}    // view to display for the field</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="field-binding">Field Binding<a aria-hidden="true" class="hash-link" href="#field-binding" title="Direct link to heading">â€‹</a></h3><p>Fields all have an optional initial value. Therefore, each field can be bounded either with a value or without one. The result is 2 different
ways of adding a field to a Form.</p><p>The following shows how to bind fields that has no default value.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.Form</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.textField</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.utils.ToStringIntEncoder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">data class Person(val name: String, val age: Int)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">val form = Form { this(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    + textField(),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    + textField(encoder = ToStringIntEncoder),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    + field&lt;Person&gt; { view {} },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    onInvalid = {}) { text: String, number: Int, person: Person -&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This shows how to bind using initial values.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.Form</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.textField</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.utils.ToStringIntEncoder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">data class Person(val name: String, val age: Int)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">val form = Form { this(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;Hello&quot;            to textField(),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    4                  to textField(encoder = ToStringIntEncoder),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Person(&quot;Jack&quot;, 55) to field { view {} },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    onInvalid = {}) { text: String, number: Int, person: Person -&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>These examples bind fields that have no names. Doodle has a <a href="/doodle/docs/ui_components/form_controls#labeled"><code>labeled</code></a>
form control that wraps a control and assigns a name to it.</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Note that a visualizer may set a field&#x27;s state to some valid value at initialization time. This will give the same effect as that
field having had a initial value specified that the visualizer accepted.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="forms-as-fields">Forms as Fields<a aria-hidden="true" class="hash-link" href="#forms-as-fields" title="Direct link to heading">â€‹</a></h3><p>Forms can also have nested forms within them. This is helpful when the field has complex data that can be presented to the user as a set
of components. Such cases can be handled with custom visualizers, but many work well using a nested form.</p><p>Nested forms are created using the <a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/FormControls.kt#L1082" target="_blank" rel="noopener noreferrer"><code>form</code></a>
dsl. It works just like the top-level <code>Form</code> dsl, but it actually <strong>creates an instance</strong> and has access to the initial value
it is bound to (if any).</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Demo</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Usage</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="doodle_-SGP"><div style="position:relative;height:400px"></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.form</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.Form</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.controls.form.textField</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.nacular.doodle.utils.ToStringIntEncoder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">data class Person(val name: String, val age: Int)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">val form = Form { this(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       + labeled(&quot;Text&quot;  ) { textField() },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       + labeled(&quot;Number&quot;) { textField(encoder = ToStringIntEncoder) },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       Person(&quot;Jack&quot;, 55) to form { this(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           initial.map { it.name } to labeled(&quot;Name&quot;) { textField() },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           initial.map { it.age  } to labeled(&quot;Age&quot; ) { textField(encoder = ToStringIntEncoder) },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           onInvalid = {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       ) { name, age -&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           Person(name, age) // construct person when valid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       } },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       // ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       onInvalid = {}) { text: String, number: Int, person: Person -&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       // called each time all fields are updated with valid data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Nested forms can be used with or without initial values like any other field.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="layouts">Layouts<a aria-hidden="true" class="hash-link" href="#layouts" title="Direct link to heading">â€‹</a></h2><p>Forms allow you to position their fields via a <a href="https://github.com/nacular/doodle/blob/master/Core/src/commonMain/kotlin/io/nacular/doodle/core/Layout.kt#L80" target="_blank" rel="noopener noreferrer"><code>Layout</code></a>
just like other containers. This positionable items seen by the layout will correspond to the fields bound to the Form in the same order.
All the examples in this documentation use a vertical layout via the
<a href="https://github.com/nacular/doodle/blob/master/Controls/src/commonMain/kotlin/io/nacular/doodle/controls/form/FormControls.kt#L1215" target="_blank" rel="noopener noreferrer"><code>verticalLayout</code></a>
helper found in the <code>io.nacular.doodle.controls.form</code> package.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/doodle/docs/ui_components/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->UI Components Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/doodle/docs/ui_components/form_controls"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Form Controls<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#like-constructors" class="table-of-contents__link toc-highlight">Like Constructors</a></li><li><a href="#creation" class="table-of-contents__link toc-highlight">Creation</a></li><li><a href="#fields" class="table-of-contents__link toc-highlight">Fields</a><ul><li><a href="#field-state" class="table-of-contents__link toc-highlight">Field State</a></li><li><a href="#creating-fields" class="table-of-contents__link toc-highlight">Creating Fields</a></li><li><a href="#field-binding" class="table-of-contents__link toc-highlight">Field Binding</a></li><li><a href="#forms-as-fields" class="table-of-contents__link toc-highlight">Forms as Fields</a></li></ul></li><li><a href="#layouts" class="table-of-contents__link toc-highlight">Layouts</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Guide</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/doodle/docs/introduction">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://kotlinlang.slack.com/messages/doodle" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/nicholas_s_eddy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/nacular/doodle" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/doodle/assets/js/runtime~main.3a6fae2e.js"></script>
<script src="/doodle/assets/js/main.b32f44b6.js"></script>
</body>
</html>