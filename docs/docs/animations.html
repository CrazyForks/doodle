<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-animations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Animation | Doodle</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://nacular.github.io/doodle/img/doodle.png"><meta data-rh="true" name="twitter:image" content="https://nacular.github.io/doodle/img/doodle.png"><meta data-rh="true" property="og:url" content="https://nacular.github.io/doodle/docs/animations"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:image:width" content="380"><meta data-rh="true" name="og:image:height" content="78"><meta data-rh="true" name="keywords" content="web, kotlin, javascript, framework, ui, user interface, programming, development, desktop"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Animation | Doodle"><meta data-rh="true" name="description" content="Animations"><meta data-rh="true" property="og:description" content="Animations"><link data-rh="true" rel="icon" href="/doodle/img/favicon.png"><link data-rh="true" rel="canonical" href="https://nacular.github.io/doodle/docs/animations"><link data-rh="true" rel="alternate" href="https://nacular.github.io/doodle/docs/animations" hreflang="en"><link data-rh="true" rel="alternate" href="https://nacular.github.io/doodle/docs/animations" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-N4LZ5T22WN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-N4LZ5T22WN",{anonymize_ip:!0})</script>



<script src="https://unpkg.com/kotlin-playground@1"></script><link rel="stylesheet" href="/doodle/assets/css/styles.957cdaf9.css">
<script src="/doodle/assets/js/runtime~main.4dedd2f4.js" defer="defer"></script>
<script src="/doodle/assets/js/main.d0fecde6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doodle/"><div class="navbar__logo"><img src="/doodle/img/doodle.svg" alt="Doodle Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/doodle/img/doodle.svg" alt="Doodle Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nacular/doodle" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://kotlinlang.slack.com/messages/doodle" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Slack channel"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/introduction">Hello Doodle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/whatsnew">Whats new in Doodle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/applications">Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/views">Views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/display">Displays</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doodle/docs/rendering/overview">Rendering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doodle/docs/layouts/overview">Layouts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/transforms">Transforms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/doodle/docs/animations">Animation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doodle/docs/user_input/pointer">User Input</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/dragdrop">Drag • Drop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/modals">Popups • Modals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/themes">Themes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/doodle/docs/ui_components/overview">Component Library</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doodle/docs/ui_components/overview">Catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doodle/docs/ui_components/form">Forms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doodle/docs/ui_components/form_controls">Form Controls</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doodle/docs/accessibility">Accessibility</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doodle/docs/troubleshooting/gotchas">Troubleshoot</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://nacular.github.io/doodle-api/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Learn More</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/doodle/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Animation</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="animations">Animations<a href="#animations" class="hash-link" aria-label="Direct link to Animations" title="Direct link to Animations">​</a></h2>
<p>Animations are key to making an app feel modern and interactive. Doodle helps you achieve this with a powerful yet simple set of APIs that let you animate a wide range of things into your app. Everything you need to build sophisticated animations is available via the <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-animator" target="_blank" rel="noopener noreferrer">Animator</a></code> interface and its related components.</p>
<div class="doodle_u3ra"><div style="position:relative;height:400px"></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Library Required</div><div class="admonitionContent_BuS1"><p>You will need to add the <code>Animation</code> library to your app&#x27;s dependencies.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Kotlin</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Groovy</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p><strong>build.gradle.kts</strong></p><code theme="darcula" mode="kotlin" data-highlight-only="true">dependencies {
    implementation (&quot;io.nacular.doodle:animation:$doodleVersion&quot;)
}</code></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><strong>build.gradle</strong></p><code theme="darcula" mode="kotlin" data-highlight-only="true">//sampleStart
dependencies {
    implementation &quot;io.nacular.doodle:animation:$doodle_version&quot;
}
//sampleEnd</code></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2>
<p>Then you will need to include the <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-animator" target="_blank" rel="noopener noreferrer">Animator</a></code> in the list of Kodein modules your app launches with. You can do this by defining a new Module, or by including a binding for it in an existing Module you are already installing.</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.AnimatorImpl
import io.nacular.doodle.application.Application
import io.nacular.doodle.application.application
import io.nacular.doodle.core.Display
import org.kodein.di.DI.Module
import org.kodein.di.bindProvider
import org.kodein.di.instance

class MyApp(display: Display, animator: Animator): Application {
    init {
        // ..
    }

    override fun shutdown() {}
}

//sampleStart
val AnimationModule = Module(name = &quot;AnimationModule&quot;) {
    bindProvider&lt;Animator&gt; { AnimatorImpl(timer = instance(), animationScheduler = instance()) }
}

fun main() {
    application(modules = listOf(AnimationModule)) {
        MyApp(display = instance(), animator = instance())
    }
}
//sampleEnd</code>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="animating-a-single-value">Animating a single value<a href="#animating-a-single-value" class="hash-link" aria-label="Direct link to Animating a single value" title="Direct link to Animating a single value">​</a></h2>
<p>Doodle offers two main APIs to handle common animation use cases. The first allows you to animate a value from start to finish and handle each increment within a lambda. This is a very flexible API that can be used to accomplish most use cases.</p>
<p>These animations are of the following form. This examples animates a <code>Float</code> value between <code>0</code> and <code>1</code> using a <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation.transition/linear.html" target="_blank" rel="noopener noreferrer">linear</a></code> easing that takes <code>250 ms</code>.</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.linear
import io.nacular.doodle.animation.tweenFloat
import io.nacular.measured.units.Time.Companion.seconds
import io.nacular.measured.units.times

fun singleValue(animate: Animator) {
//sampleStart
    animate(0f to 1f, using = tweenFloat(linear, 0.25 * seconds)) { value: Float -&gt;
        // ...
    }
//sampleEnd
}</code>
<p>The lambda provided to the <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-animator" target="_blank" rel="noopener noreferrer">Animator</a></code> will be evaluated every time the animating value changes. This allows the app to take action in real time.</p>
<p>Notice that this API does not make any references to <code><a href="https://nacular.github.io/doodle-api/core/io.nacular.doodle.core/-view" target="_blank" rel="noopener noreferrer">View</a></code> or any other Doodle concept. This allows animations like these to operate on any compatible data.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The animating ball example above uses this approach to change the ball&#x27;s vertical position.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="grouped-animations">Grouped animations<a href="#grouped-animations" class="hash-link" aria-label="Direct link to Grouped animations" title="Direct link to Grouped animations">​</a></h2>
<p>You can also animate a series of properties under a single <code>Animation</code> handle. This makes it easy to track and modify the behavior of several properties at once instead of having an animation for each.</p>
<p>This code below shows how the <a href="#loops">looping ball</a> example animates 3 different properties. The resulting <code>animation</code> will manage all the underlying items as expected.</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.RepetitionType.Reverse
import io.nacular.doodle.animation.loop
import io.nacular.doodle.animation.transition.EasingFunction
import io.nacular.doodle.animation.tweenColor
import io.nacular.doodle.animation.tweenDouble
import io.nacular.doodle.animation.tweenSize
import io.nacular.doodle.core.view
import io.nacular.doodle.drawing.Color.Companion.Blue
import io.nacular.doodle.drawing.Color.Companion.Red
import io.nacular.doodle.geometry.Size
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun groupedValues(animate: Animator, easing: EasingFunction, duration: Measure&lt;Time&gt;) {
    val circle = view {}

//sampleStart
    animate {
        Blue to Red using loop(tweenColor(easing, duration), type = Reverse).invoke {
            circle.backgroundColor = it
        }

        200.0 to 100.0 using loop(tweenDouble(easing, duration), type = Reverse).invoke {
            circle.y = it
        }

        Size(100) to Size(75) using loop(tweenSize(easing, duration), type = Reverse).invoke {
            circle.size = it
        }
    }
//sampleEnd
}</code>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>There is no requirement that the animations define within the block have the same duration or are even of the same type.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tweens">Tweens<a href="#tweens" class="hash-link" aria-label="Direct link to Tweens" title="Direct link to Tweens">​</a></h2>
<p>Tween animations let you interpolate data between two values using a curve (or easing function). These animations work with data that can be converted to numeric (<code>Double</code>) representation. Doodle has several <code>tween*</code> functions, all with the form:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tween</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    easing  </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> EasingFunction</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    duration</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Measure</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Time</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay   </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Measure</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Time</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="numeric-data">Numeric data<a href="#numeric-data" class="hash-link" aria-label="Direct link to Numeric data" title="Direct link to Numeric data">​</a></h3>
<p>Doodle supports tweens with any <code>Number</code> type and includes APIs for working with <code>Float</code>, <code>Double</code> and <code>Int</code>. This shows how you can animate a <code>Float</code> from <code>0</code> to <code>100</code> using a <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation.transition/linear.html" target="_blank" rel="noopener noreferrer">linear</a></code> tween that lasts <code>250 ms</code>, and starts immediately (no <code>delay</code>).</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.linear
import io.nacular.doodle.animation.tweenFloat
import io.nacular.measured.units.Time.Companion.milliseconds
import io.nacular.measured.units.times

fun numeric(animate: Animator) {
//sampleStart
    animate(0f to 1f, using = tweenFloat(linear, 250 * milliseconds)) {
        println(it)
    }
//sampleEnd
}</code>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can also use <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/tween-double.html" target="_blank" rel="noopener noreferrer">tweenDouble</a></code> and <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/tween-int.html" target="_blank" rel="noopener noreferrer">tweenInt</a></code> to work with other number types.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="colors-sizes-">Colors, Sizes, ...<a href="#colors-sizes-" class="hash-link" aria-label="Direct link to Colors, Sizes, ..." title="Direct link to Colors, Sizes, ...">​</a></h3>
<p>Doodle also allows you to tween non-numeric data, as long as it can be converted to a numeric representation. This works really well for things like <code><a href="https://nacular.github.io/doodle-api/core/io.nacular.doodle.geometry/-point" target="_blank" rel="noopener noreferrer">Point</a></code>, <code><a href="https://nacular.github.io/doodle-api/core/io.nacular.doodle.geometry/-size" target="_blank" rel="noopener noreferrer">Size</a></code>, <code><a href="https://nacular.github.io/doodle-api/core/io.nacular.doodle.geometry/-rectangle" target="_blank" rel="noopener noreferrer">Rectangle</a></code>, and <code><a href="https://nacular.github.io/doodle-api/core/io.nacular.doodle.drawing/-color" target="_blank" rel="noopener noreferrer">Color</a></code>. All of these data types are supported by built-in tween variants. So you can do any of the following.</p>
<div class="doodle_u3ra"><div style="position:relative;height:400px"></div></div>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Point</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Size</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Rect</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Color</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.EasingFunction
import io.nacular.doodle.animation.tweenPoint
import io.nacular.doodle.geometry.Point
import io.nacular.doodle.geometry.Point.Companion.Origin
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun point(animate: Animator, easing: EasingFunction, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate(Origin to Point(100, 200), using = tweenPoint(easing, duration)) {
        // ...
    }
//sampleEnd
}</code></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.EasingFunction
import io.nacular.doodle.animation.tweenSize
import io.nacular.doodle.geometry.Size
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun size(animate: Animator, easing: EasingFunction, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate(Size(100) to Size(100, 200), using = tweenSize(easing, duration)) {
        // ...
    }
//sampleEnd
}</code></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.EasingFunction
import io.nacular.doodle.animation.tweenRect
import io.nacular.doodle.geometry.Rectangle
import io.nacular.doodle.geometry.Rectangle.Companion.Empty
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun rect(animate: Animator, easing: EasingFunction, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate(Empty to Rectangle(100, 200), using = tweenRect(easing, duration)) {
        // ...
    }
//sampleEnd
}</code></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.EasingFunction
import io.nacular.doodle.animation.tweenColor
import io.nacular.doodle.drawing.Color.Companion.Green
import io.nacular.doodle.drawing.Color.Companion.Red
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun color(animate: Animator, easing: EasingFunction, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate(Red to Green, using = tweenColor(easing, duration)) {
        // ...
    }
//sampleEnd
}</code></div></div></div>
<p>This is an example of a <a href="/doodle/docs/ui_components/overview#switch"><code>Switch</code></a> with a custom <code><a href="https://nacular.github.io/doodle-api/core/io.nacular.doodle.core/-behavior" target="_blank" rel="noopener noreferrer">Behavior</a></code> that draws a heart and animates between selection state using an arbitrary easing function.</p>
<div class="doodle_u3ra"><div style="position:relative;height:300px"></div></div>
<div style="font-size:10px;text-align:right;color:gray">Inspired by <a style="color:gray" href="https://dribbble.com/shots/8306407-I-heart-toggle" title="I heart toggle">Tore Bernhoft</a></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="easing-functions">Easing functions<a href="#easing-functions" class="hash-link" aria-label="Direct link to Easing functions" title="Direct link to Easing functions">​</a></h3>
<p>The <code>tween*</code> functions work with one or more <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation.transition" target="_blank" rel="noopener noreferrer">EasingFunction</a></code>, a <code>duration</code> of (<a href="https://nacular.github.io/measured" target="_blank" rel="noopener noreferrer"><code>Measure&lt;Time&gt;</code></a>), and an optional <code>delay</code> (also a <code>Measure&lt;Time&gt;</code>). <code>EasingFunction</code> is simply a function that takes a <code>Float</code> between <code>0</code> and <code>1</code> and returns another <code>Float</code> scaled to <code>0</code> and <code>1</code>. Doodle includes many common easing functions already.</p>
<p>But it is just as simple to create a custom one as well. Simply provide a function of the following form that maps inputs between <code>0</code> and <code>1</code> to a normalized output in (or slightly outside) that range.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="customeasing">CustomEasing<a href="#customeasing" class="hash-link" aria-label="Direct link to CustomEasing" title="Direct link to CustomEasing">​</a></h4>
<code theme="darcula" mode="kotlin" data-highlight-only="true">(Float) -&gt; Float</code>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-frames">Key frames<a href="#key-frames" class="hash-link" aria-label="Direct link to Key frames" title="Direct link to Key frames">​</a></h2>
<p>Doodle also supports key-frame animations. These let you specify intermediate values the animated property will have at specific times, and the easing curves between these values. The following example animates the ball&#x27;s y position so it takes 1/3 of the total duration to get from one level to the next. But it provides 3 separate curves to animate between each level.</p>
<div class="doodle_u3ra"><div style="position:relative;height:400px"></div></div>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.keyFramesDouble
import io.nacular.doodle.animation.transition.easeInElastic
import io.nacular.doodle.animation.transition.easeOutBack
import io.nacular.doodle.animation.transition.linear
import io.nacular.doodle.core.View
import io.nacular.measured.units.Time.Companion.seconds
import io.nacular.measured.units.times

fun size(animate: Animator, graph: View) {
//sampleStart
    val duration = 1 * seconds

    animate(0.0 to graph.height, keyFramesDouble(duration) {
//  value           | at what time      | easing to next value
//  --------------------------------------------------------------
        0.0                at duration * 0   then easeInElastic
        graph.height * 1/3 at duration * 1/3 then linear
        graph.height * 2/3 at duration * 2/3 then easeOutBack
    }) {
        // ...
    }
//sampleEnd
}</code>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The default ease from the <code>start</code> to the first value in the key frames is <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation.transition/linear.html" target="_blank" rel="noopener noreferrer">linear</a></code>. The example above overrides this by specifying the first key frame as the <code>start</code>, then it is able to specify how to ease from the beginning.</p></div></div>
<p>Key-frame animations are defined using the <code>keyFrame*</code> (i.e. <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/key-frames-float.html" target="_blank" rel="noopener noreferrer">keyFramesFloat</a></code>) functions that work on data that can be mapped to numeric values like <code>tween*</code>. Similarly, Doodle provides built-in support for the same set of data types here as it does for <code>tween*</code>.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Point</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Size</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Rect</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Color</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.keyFramesPoint
import io.nacular.doodle.geometry.Point
import io.nacular.doodle.geometry.Point.Companion.Origin
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun pointKeyframe(animate: Animator, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate(Origin to Point(100, 200), using = keyFramesPoint(duration) {
        // key frame definition
    }) {
        // animation block
    }
//sampleEnd
}</code></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.keyFramesSize
import io.nacular.doodle.geometry.Size
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun sizeKeyframe(animate: Animator, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate(Size(100) to Size(100, 200), using = keyFramesSize(duration) {
        // key frame definition
    }) {
        // animation block
    }
//sampleEnd
}</code></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.keyFramesRect
import io.nacular.doodle.geometry.Rectangle
import io.nacular.doodle.geometry.Rectangle.Companion.Empty
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun rectKeyframe(animate: Animator, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate(Empty to Rectangle(100, 200), using = keyFramesRect(duration) {
        // key frame definition
    }) {
        // animation block
    }
//sampleEnd
}</code></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.keyFramesColor
import io.nacular.doodle.drawing.Color.Companion.Green
import io.nacular.doodle.drawing.Color.Companion.Red
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun colorKeyframe(animate: Animator, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate(Red to Green, using = keyFramesColor(duration) {
        // key frame definition
    }) {
        // animation block
    }
//sampleEnd
}</code></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="repetition">Repetition<a href="#repetition" class="hash-link" aria-label="Direct link to Repetition" title="Direct link to Repetition">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="finite-repeating">Finite repeating<a href="#finite-repeating" class="hash-link" aria-label="Direct link to Finite repeating" title="Direct link to Finite repeating">​</a></h3>
<p>You can repeat animations like <code>tween*</code> or <code>keyFrame*</code> using the <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/repeat.html" target="_blank" rel="noopener noreferrer">repeat</a></code> wrapper. This wrapper takes an <code>animationPlan</code>, the number of <code>times</code> it should be repeated and the type of repetition (<code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-repetition-type/-restart/index.html" target="_blank" rel="noopener noreferrer">Restart</a></code> or <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-repetition-type/-reverse/index.html" target="_blank" rel="noopener noreferrer">Reverse</a></code>).</p>
<div class="doodle_u3ra"><div style="position:relative;height:300px"></div></div>
<p>For example, you can <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/repeat.html" target="_blank" rel="noopener noreferrer">repeat</a></code> a <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation.transition/linear.html" target="_blank" rel="noopener noreferrer">linear</a></code> tween from <code>0</code> to <code>1</code> as follows.</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.RepetitionType.Reverse
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.repeat
import io.nacular.doodle.animation.transition.EasingFunction
import io.nacular.doodle.animation.tweenFloat
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun repeat(animate: Animator, easing: EasingFunction, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate.invoke(0f to 1f, repeat(tweenFloat(easing, duration), times = 2, type = Reverse)) {
        // ...
    }
//sampleEnd
}</code>
<p>The <code>type</code> determines what the animation will do at each repetition boundary. <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-repetition-type/-restart/index.html" target="_blank" rel="noopener noreferrer">Restart</a></code> will run the animation again as though it were just beginning. While <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-repetition-type/-reverse/index.html" target="_blank" rel="noopener noreferrer">Reverse</a></code> will run the animation from its end to start.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="loops">Loops<a href="#loops" class="hash-link" aria-label="Direct link to Loops" title="Direct link to Loops">​</a></h3>
<p>Sometimes you&#x27;d like to run an animation that repeats indefinitely. The <code>loop</code> function makes this easy. It is just like <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/repeat.html" target="_blank" rel="noopener noreferrer">repeat</a></code>, except it takes no <code>times</code> value and continues &quot;forever&quot;. The following app runs a looping animation (that reverses) to change the ball&#x27;s <code>y</code>, <code>color</code>, and <code>size</code> based on an easing.</p>
<div class="doodle_u3ra"><div style="position:relative;height:350px"></div></div>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.RepetitionType.Reverse
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.loop
import io.nacular.doodle.animation.transition.EasingFunction
import io.nacular.doodle.animation.tweenFloat
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun loop(animate: Animator, easing: EasingFunction, duration: Measure&lt;Time&gt;) {
//sampleStart
    animate.invoke(0f to 1f, loop(tweenFloat(easing, duration), type = Reverse)) {
        // ...
    }
//sampleEnd
}</code>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="animating-properties">Animating properties<a href="#animating-properties" class="hash-link" aria-label="Direct link to Animating properties" title="Direct link to Animating properties">​</a></h2>
<p>An <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-animator" target="_blank" rel="noopener noreferrer">Animator</a></code> can also be used to create animatable properties for a class. These properties will then animate from their current value to a new one whenever they are changed. This is done as follows:</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.linear
import io.nacular.doodle.animation.tweenColor
import io.nacular.doodle.core.View
import io.nacular.doodle.drawing.Color.Companion.Red
import io.nacular.measured.units.Time.Companion.milliseconds
import io.nacular.measured.units.times

//sampleStart
class MyView(animate: Animator): View() {
    // ..

    var color by animate(default = Red, tweenColor(linear, 250 * milliseconds)) { old, new -&gt;
        rerenderNow()
    }

    // ..
}
//sampleEnd</code>
<p>Doodle manages the animation lifecycle of these properties for you and optionally notifies you of changes throughout the animation. This makes it easy to react as the value changes. An existing animation will be canceled if a new value is set for the property, and the property will begin animating towards that new value.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>An interruption in the animation will reset the elapsed time. So setting <code>color</code> in the above example to something new while it was in the middle of animating would require 250ms to get from the intermediate value to the new value specified.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="animation-lifecycle">Animation lifecycle<a href="#animation-lifecycle" class="hash-link" aria-label="Direct link to Animation lifecycle" title="Direct link to Animation lifecycle">​</a></h2>
<p>All animations result in an <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-animation" target="_blank" rel="noopener noreferrer">Animation</a></code> instance being created to track their lifecycle. This type implements <code>Completable</code>, which means it notifies listeners when it is <code>completed</code> or <code>canceled</code>. You can register to be notified of these state changes as follows:</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animation

fun lifeCycle(animation: Animation&lt;*&gt;) {
//sampleStart
    animation.completed += { /*...*/ }
    animation.canceled  += { /*...*/ }
//sampleEnd
}</code>
<p>Doodle provides the <code>autoCanceling</code> property delegate to automatically cancel <code>Completable</code> instances when a new value is assigned to them. This is useful for animations as well.</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animation
import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.easeInElastic
import io.nacular.doodle.animation.transition.linear
import io.nacular.doodle.animation.tweenFloat
import io.nacular.doodle.utils.autoCanceling
import io.nacular.measured.units.Time.Companion.seconds
import io.nacular.measured.units.times

fun autoCancel(animate: Animator) {
//sampleStart
    // using autoCanceling ensures existing animation is canceled when a new one is assigned
    var someAnimation: Animation&lt;Float&gt;? by autoCanceling()

    someAnimation = animate.invoke(0f to 1f, using = tweenFloat(linear, 1 * seconds)) {
        // ...
    }

    // ...

    // Any ongoing animation is canceled with this assignment
    someAnimation = animate.invoke(1f to 0f, using = tweenFloat(easeInElastic, 1 * seconds)) {
        // ...
    }

//sampleEnd
}</code>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="animating-custom-data">Animating custom data<a href="#animating-custom-data" class="hash-link" aria-label="Direct link to Animating custom data" title="Direct link to Animating custom data">​</a></h2>
<p>It is possible to animate custom data in addition to the built-in types that Doodle offers. The simplest case is when you have some data that can be represented numerically. These data types can be used directly in tween, keyFrame and other existing animation types as long as you provide logic to convert them to and from their numeric form.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="numeric-conversion">Numeric conversion<a href="#numeric-conversion" class="hash-link" aria-label="Direct link to Numeric conversion" title="Direct link to Numeric conversion">​</a></h3>
<p>You can animate data that is convertible to and from numbers using either <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-single-data-converter" target="_blank" rel="noopener noreferrer">SingleDataConverter</a></code> or <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-multi-data-converter" target="_blank" rel="noopener noreferrer">MultiDataConverter</a></code>. These support single and multi-dimensional data respectively. These converters define how a type is mapped to and from a <code>Double</code> or <code>Array&lt;Double&gt;</code>.</p>
<!-- -->
<p>Simply implement a custom converter and provide it to one of the generic animation builders as follows:</p>
<code theme="darcula" mode="kotlin" data-highlight-only="true">package animation

import io.nacular.doodle.animation.Animator
import io.nacular.doodle.animation.SingleDataConverter
import io.nacular.doodle.animation.invoke
import io.nacular.doodle.animation.transition.EasingFunction
import io.nacular.doodle.animation.tween
import io.nacular.measured.units.Measure
import io.nacular.measured.units.Time

fun customData(animate: Animator, easing: EasingFunction, duration: Measure&lt;Time&gt;) {
//sampleStart
    data class Foo(val value: String)

    val customDataConverter = object: SingleDataConverter&lt;Foo&gt; {
        override val zero                      : Foo = Foo(&quot;&quot;)
        override fun serialize  (value: Foo   ): Double = value.value.toDouble()
        override fun deserialize(value: Double): Foo    = Foo(&quot;$value&quot;)
    }

    animate(Foo(&quot;1&quot;) to Foo(&quot;2&quot;), tween(customDataConverter, easing, duration)) { value: Foo -&gt;
        // ...
    }
//sampleEnd
}</code>
<p>Doodle has several built-in <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/animation-converter.html" target="_blank" rel="noopener noreferrer">converters</a></code> that use this technique to animate several common data types.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="non-numeric-data">Non-numeric data<a href="#non-numeric-data" class="hash-link" aria-label="Direct link to Non-numeric data" title="Direct link to Non-numeric data">​</a></h3>
<p>The <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-animator" target="_blank" rel="noopener noreferrer">Animator</a></code> interface actually works with a lower-level definition of an animation than those used for numeric data. This interface is the entry point for truly custom data that cannot be converted to numeric form. Doodle currently does not have any use cases like this, but the API is there in case applications have a need.</p>
<p>See the <code><a href="https://nacular.github.io/doodle-api/animation/io.nacular.doodle.animation/-animation-plan" target="_blank" rel="noopener noreferrer"> AnimationPlan</a></code> for more details.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/doodle/docs/transforms"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Transforms</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doodle/docs/user_input/pointer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pointer</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#animations" class="table-of-contents__link toc-highlight">Animations</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#animating-a-single-value" class="table-of-contents__link toc-highlight">Animating a single value</a></li><li><a href="#grouped-animations" class="table-of-contents__link toc-highlight">Grouped animations</a></li><li><a href="#tweens" class="table-of-contents__link toc-highlight">Tweens</a><ul><li><a href="#numeric-data" class="table-of-contents__link toc-highlight">Numeric data</a></li><li><a href="#colors-sizes-" class="table-of-contents__link toc-highlight">Colors, Sizes, ...</a></li><li><a href="#easing-functions" class="table-of-contents__link toc-highlight">Easing functions</a></li></ul></li><li><a href="#key-frames" class="table-of-contents__link toc-highlight">Key frames</a></li><li><a href="#repetition" class="table-of-contents__link toc-highlight">Repetition</a><ul><li><a href="#finite-repeating" class="table-of-contents__link toc-highlight">Finite repeating</a></li><li><a href="#loops" class="table-of-contents__link toc-highlight">Loops</a></li></ul></li><li><a href="#animating-properties" class="table-of-contents__link toc-highlight">Animating properties</a></li><li><a href="#animation-lifecycle" class="table-of-contents__link toc-highlight">Animation lifecycle</a></li><li><a href="#animating-custom-data" class="table-of-contents__link toc-highlight">Animating custom data</a><ul><li><a href="#numeric-conversion" class="table-of-contents__link toc-highlight">Numeric conversion</a></li><li><a href="#non-numeric-data" class="table-of-contents__link toc-highlight">Non-numeric data</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Nacular</div></div></div></footer></div>
</body>
</html>